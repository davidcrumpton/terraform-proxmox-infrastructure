[defaults]
# Inventory and variable management
inventory = ./inventory/hosts
host_key_checking = False
retry_files_enabled = False
interpreter_python = auto
forks = 20
timeout = 30
deprecation_warnings = False
callbacks_enabled = profile_tasks, timer

# Keep roles and playbooks organized
roles_path = ./roles
collections_paths = ~/.ansible/collections:/usr/share/ansible/collections

# Automatically load host vars generated by Terraform
vars_plugins_enabled = host_group_vars, yaml
gathering = smart
fact_caching = jsonfile
fact_caching_connection = .ansible_facts_cache
fact_caching_timeout = 86400

# Output formatting
stdout_callback = yaml
display_skipped_hosts = False
inventory_ignore_extensions = .example, .bak, .tmp

[ssh_connection]
pipelining = True
ssh_args = -o StrictHostKeyChecking=no -o ControlMaster=auto -o ControlPersist=60s
control_path = ~/.ssh/ansible-%%r@%%h:%%p
